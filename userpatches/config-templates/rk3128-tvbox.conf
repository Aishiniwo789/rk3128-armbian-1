# RK3128 电视盒子 专属配置 | 32位 ARMv7 (armhf) 绝对适配 | 预集成完整CUPS打印服务
DEVICE_NAME="RK3128 TV Box PrintServer"
DEVICE_MAINTAINER="RK3128-Build"
DEVICE_BRAND="Generic"
DEVICE_MODEL="RK3128 Rockchip TVBox"

# 核心修正：RK3128必须指定 armhf 32位 + rockchip 芯片家族，这是唯一正确的架构配置
ARCH="armhf"
KERNEL_TARGET="current"
LINUXFAMILY="rockchip"  # 关键：指定芯片家族为瑞芯微rockchip
BOOTCONFIG="rk3128_defconfig" # 关键：内核编译配置文件用RK3128专用的

# 分区配置 完美适配RK3128盒子(1G内存+8G闪存)，固件写入TF卡直接用
BOOTFS_SIZE="256"
ROOTFS_SIZE="4096"

# ✅ 完整版打印服务依赖包（USB打印机必识别+网络打印机必发现+无乱码）
PACKAGES_ADD="cups cups-client cups-filters printer-driver-gutenprint printer-driver-pnm2ppa usbutils avahi-daemon libcups2-dev"
# ✅ 打印服务开机自启，无需手动操作
SERVICES_TO_ENABLE="cups cups-browsed avahi-daemon"

# ✅ 必须的内核模块：RK3128 USB/网络/串口驱动全配齐，打印机识别无压力
MODULES="g_serial cdc_acm usbcore usbhid ehci-hcd ohci-hcd r8152"

# 轻量优化：关闭无用功能，减小固件体积，1G内存运行无压力
DISABLE_NLS="no"
BUILD_MINIMAL_ADDONS="yes"
